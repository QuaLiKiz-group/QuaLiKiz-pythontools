<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QuaLiKiz-Pythontools: qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QuaLiKiz-Pythontools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacequalikiz__tools.html">qualikiz_tools</a></li><li class="navelem"><a class="el" href="namespacequalikiz__tools_1_1qualikiz__io.html">qualikiz_io</a></li><li class="navelem"><a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html">qualikizrun</a></li><li class="navelem"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html">QuaLiKizBatch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A collection of QuaLiKiz Runs.  
 <a href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a43c35c2070466e0570483e9cb50fa266"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a43c35c2070466e0570483e9cb50fa266">__init__</a> (self, <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#af0d9d7664c679933dfd5d40aa1260a62">batchsdir</a>, <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a4fe956b309e2676d75193f88f5e87eea">name</a>, <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#acf963d5f122dda705ef3c16548bfb51e">runlist</a>, ncpu, safetytime=2, style='sequential', stdout=<a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a549721ccd8e5071d2a3c0acd1e37f6ed">Sbatch.default_stdout</a>, stderr=<a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a0587d79b1656ca1a5425997b56648754">Sbatch.default_stderr</a>, filesystem='SCRATCH', partition='regular', qos='normal', repo=None, HT=True, <a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a>=<a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a>)</td></tr>
<tr class="memdesc:a43c35c2070466e0570483e9cb50fa266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a batch.  <a href="#a43c35c2070466e0570483e9cb50fa266">More...</a><br /></td></tr>
<tr class="separator:a43c35c2070466e0570483e9cb50fa266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65837d657106ef32eb1c81e15b473fba"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a65837d657106ef32eb1c81e15b473fba">prepare</a> (self, overwrite_batch=None, overwrite_runs=False)</td></tr>
<tr class="memdesc:a65837d657106ef32eb1c81e15b473fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the batch and runs to be submitted This function writes necessary files and folders for the batch to run correctly.  <a href="#a65837d657106ef32eb1c81e15b473fba">More...</a><br /></td></tr>
<tr class="separator:a65837d657106ef32eb1c81e15b473fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03a7c179a65f9342f0176ab155bd784"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#aa03a7c179a65f9342f0176ab155bd784">generate_input</a> (self, dotprint=False)</td></tr>
<tr class="memdesc:aa03a7c179a65f9342f0176ab155bd784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the input files for all runs.  <a href="#aa03a7c179a65f9342f0176ab155bd784">More...</a><br /></td></tr>
<tr class="separator:aa03a7c179a65f9342f0176ab155bd784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cd83eab9b8ede51f72a2fd29482a7a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#aa4cd83eab9b8ede51f72a2fd29482a7a">generate_batchscript</a> (self, ncpu, safetytime=1.5, style='sequential', stdout=<a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a549721ccd8e5071d2a3c0acd1e37f6ed">Sbatch.default_stdout</a>, stderr=<a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a0587d79b1656ca1a5425997b56648754">Sbatch.default_stderr</a>, filesystem='SCRATCH', partition='regular', qos='normal', repo=None, HT=True, <a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a>=<a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a>)</td></tr>
<tr class="memdesc:aa4cd83eab9b8ede51f72a2fd29482a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the batch script Currently only supports edison-style run scripts.  <a href="#aa4cd83eab9b8ede51f72a2fd29482a7a">More...</a><br /></td></tr>
<tr class="separator:aa4cd83eab9b8ede51f72a2fd29482a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7a44d964602d417d847fdc16f9d87a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#aea7a44d964602d417d847fdc16f9d87a">from_dir_recursive</a> (cls, searchdir)</td></tr>
<tr class="memdesc:aea7a44d964602d417d847fdc16f9d87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstruct batch from directory tree Walks from the given path until it finds a file named <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#ae07e0fd10765bc20262bbeb020930ed1">QuaLiKizBatch.scriptname</a>, and tries to reconstruct the batch from there.  <a href="#aea7a44d964602d417d847fdc16f9d87a">More...</a><br /></td></tr>
<tr class="separator:aea7a44d964602d417d847fdc16f9d87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee169005f4b9398364ee3d00abc6c743"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#aee169005f4b9398364ee3d00abc6c743">from_dir</a> (cls, batchdir)</td></tr>
<tr class="memdesc:aee169005f4b9398364ee3d00abc6c743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstruct batch from a directory This function assumes that the name of the batch can be determined by the given batchdir.  <a href="#aee169005f4b9398364ee3d00abc6c743">More...</a><br /></td></tr>
<tr class="separator:aee169005f4b9398364ee3d00abc6c743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bbf8e522880d309d706d4e49438409c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a7bbf8e522880d309d706d4e49438409c">queue_batch</a> (self)</td></tr>
<tr class="memdesc:a7bbf8e522880d309d706d4e49438409c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue the batch Queues the batch.  <a href="#a7bbf8e522880d309d706d4e49438409c">More...</a><br /></td></tr>
<tr class="separator:a7bbf8e522880d309d706d4e49438409c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878d6e2bcb4f0db1420cd83634ce7511"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a878d6e2bcb4f0db1420cd83634ce7511">dthandler</a> (self, obj)</td></tr>
<tr class="separator:a878d6e2bcb4f0db1420cd83634ce7511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17084e299338a2b581dc1b2386644492"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a17084e299338a2b581dc1b2386644492">to_netcdf</a> (self, runmode='orthogonal', mode='glue', overwrite=None, encode={ 'zlib':True}, <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#af0110612953fd108215ee15d55d129bd">clean</a>=True)</td></tr>
<tr class="memdesc:a17084e299338a2b581dc1b2386644492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html" title="A collection of QuaLiKiz Runs. ">QuaLiKizBatch</a> output to netcdf.  <a href="#a17084e299338a2b581dc1b2386644492">More...</a><br /></td></tr>
<tr class="separator:a17084e299338a2b581dc1b2386644492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0110612953fd108215ee15d55d129bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#af0110612953fd108215ee15d55d129bd">clean</a> (self)</td></tr>
<tr class="memdesc:af0110612953fd108215ee15d55d129bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all output.  <a href="#af0110612953fd108215ee15d55d129bd">More...</a><br /></td></tr>
<tr class="separator:af0110612953fd108215ee15d55d129bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d127b0a86a0701f6efcb10c323d0c81"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a0d127b0a86a0701f6efcb10c323d0c81">is_done</a> (self)</td></tr>
<tr class="memdesc:a0d127b0a86a0701f6efcb10c323d0c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if job is done running.  <a href="#a0d127b0a86a0701f6efcb10c323d0c81">More...</a><br /></td></tr>
<tr class="separator:a0d127b0a86a0701f6efcb10c323d0c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159947d7cbfcaf894efda88032da937d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a159947d7cbfcaf894efda88032da937d">__eq__</a> (self, other)</td></tr>
<tr class="separator:a159947d7cbfcaf894efda88032da937d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a051df92e53255e508ae963525db78"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a97a051df92e53255e508ae963525db78">__ne__</a> (self, other)</td></tr>
<tr class="separator:a97a051df92e53255e508ae963525db78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af0d9d7664c679933dfd5d40aa1260a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#af0d9d7664c679933dfd5d40aa1260a62">batchsdir</a></td></tr>
<tr class="separator:af0d9d7664c679933dfd5d40aa1260a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe956b309e2676d75193f88f5e87eea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a4fe956b309e2676d75193f88f5e87eea">name</a></td></tr>
<tr class="separator:a4fe956b309e2676d75193f88f5e87eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf963d5f122dda705ef3c16548bfb51e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#acf963d5f122dda705ef3c16548bfb51e">runlist</a></td></tr>
<tr class="separator:acf963d5f122dda705ef3c16548bfb51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713052d59a73a80f1cb9d0546c42b9bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a713052d59a73a80f1cb9d0546c42b9bb">batch</a></td></tr>
<tr class="separator:a713052d59a73a80f1cb9d0546c42b9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a943bb7afef62c24d464ff088f589549e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#a943bb7afef62c24d464ff088f589549e">batchinfofile</a> = 'batchinfo.json'</td></tr>
<tr class="separator:a943bb7afef62c24d464ff088f589549e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07e0fd10765bc20262bbeb020930ed1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#ae07e0fd10765bc20262bbeb020930ed1">scriptname</a> = 'edison.sbatch'</td></tr>
<tr class="separator:ae07e0fd10765bc20262bbeb020930ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A collection of QuaLiKiz Runs. </p>
<p>This class is used to define a collection of QuaLiKiz Runs. This is more or less equivalent with a batch script, but with path awareness and some extra smarts built-in.</p>
<p>Class variables:</p><ul>
<li>batchinfofile: The default name of batchinfo file. Used to store batch metadata</li>
<li>scriptname: The default name of the sbatch scipt file. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a43c35c2070466e0570483e9cb50fa266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c35c2070466e0570483e9cb50fa266">&sect;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batchsdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>runlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ncpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>safetytime</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>style</em> = <code>'sequential'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stdout</em> = <code><a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a549721ccd8e5071d2a3c0acd1e37f6ed">Sbatch.default_stdout</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stderr</em> = <code><a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a0587d79b1656ca1a5425997b56648754">Sbatch.default_stderr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filesystem</em> = <code>'SCRATCH'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>partition</em> = <code>'regular'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>qos</em> = <code>'normal'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>repo</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>HT</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vcores_per_task</em> = <code><a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a batch. </p>
<ul>
<li>batchsdir: Parent directory of the batch directory.</li>
<li>name: Name of the batch. This will also be the folder name</li>
<li>runlist: A list of QuaLiKizRuns contained in this batch</li>
<li>ncpu: Amount of cpus to be used</li>
</ul>
<pre class="fragment">        - safetytime: An extra factor that will be used in the calculation
                      of requested runtime. 1.5x by default
        - style:      How to glue the different runs together. Currently
                      only 'sequential' is used
        - stdout:     Standard target of redirect of STDOUT
        - stderr:     Standard taget of redirect of STDERR
        - filesystem: SLURM filesystem to be used. SCRATCH by default
        - partition:  Which Edison partition to use. 'regular' by default
        - qos:        SLURM qos to be used. normal by default
        - HT:         Use hyperthreading. True by default</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a159947d7cbfcaf894efda88032da937d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159947d7cbfcaf894efda88032da937d">&sect;&nbsp;</a></span>__eq__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.__eq__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a97a051df92e53255e508ae963525db78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a051df92e53255e508ae963525db78">&sect;&nbsp;</a></span>__ne__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.__ne__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af0110612953fd108215ee15d55d129bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0110612953fd108215ee15d55d129bd">&sect;&nbsp;</a></span>clean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.clean </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all output. </p>

</div>
</div>
<a id="a878d6e2bcb4f0db1420cd83634ce7511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878d6e2bcb4f0db1420cd83634ce7511">&sect;&nbsp;</a></span>dthandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.dthandler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aee169005f4b9398364ee3d00abc6c743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee169005f4b9398364ee3d00abc6c743">&sect;&nbsp;</a></span>from_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.from_dir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batchdir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconstruct batch from a directory This function assumes that the name of the batch can be determined by the given batchdir. </p>
<p>If the batch was created with the functions contained in this module, it should always be succesfully re-contructed.</p>
<pre class="fragment">        - batchdir: The top directory of the batch
</pre><dl class="section return"><dt>Returns</dt><dd><ul>
<li>qualikizbatch: The reconstructed batch </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aea7a44d964602d417d847fdc16f9d87a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7a44d964602d417d847fdc16f9d87a">&sect;&nbsp;</a></span>from_dir_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.from_dir_recursive </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>searchdir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconstruct batch from directory tree Walks from the given path until it finds a file named <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html#ae07e0fd10765bc20262bbeb020930ed1">QuaLiKizBatch.scriptname</a>, and tries to reconstruct the batch from there. </p>
<ul>
<li>searchdir: The path to search</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>batchlist: A list of batches found </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa4cd83eab9b8ede51f72a2fd29482a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4cd83eab9b8ede51f72a2fd29482a7a">&sect;&nbsp;</a></span>generate_batchscript()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.generate_batchscript </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ncpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>safetytime</em> = <code>1.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>style</em> = <code>'sequential'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stdout</em> = <code><a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a549721ccd8e5071d2a3c0acd1e37f6ed">Sbatch.default_stdout</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stderr</em> = <code><a class="el" href="classqualikiz__tools_1_1machine__specific_1_1slurm_1_1Sbatch.html#a0587d79b1656ca1a5425997b56648754">Sbatch.default_stderr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filesystem</em> = <code>'SCRATCH'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>partition</em> = <code>'regular'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>qos</em> = <code>'normal'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>repo</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>HT</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vcores_per_task</em> = <code><a class="el" href="namespacequalikiz__tools_1_1qualikiz__io_1_1qualikizrun.html#acb2d575db9d4211a5ca3a6f7cca76f6d">vcores_per_task</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the batch script Currently only supports edison-style run scripts. </p>
<ul>
<li>ncpu: Amount of cpus to be used</li>
</ul>
<pre class="fragment">        - safetytime: An extra factor that will be used in the calculation
                      of requested runtime. 1.5x by default
        - style:      How to glue the different runs together. Currently
                      only 'sequential' is used
        - stdout:     Standard target of redirect of STDOUT
        - stderr:     Standard taget of redirect of STDERR
        - filesystem: SLURM filesystem to be used. SCRATCH by default
        - partition:  Which Edison partition to use. 'regular' by default
        - qos:        SLURM qos to be used. normal by default
        - repo:       Repository used to bill hours. None by default.
        - HT:         Use hyperthreading. True by default
</pre><dl class="section return"><dt>Returns</dt><dd><ul>
<li>batch: The batch script </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa03a7c179a65f9342f0176ab155bd784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03a7c179a65f9342f0176ab155bd784">&sect;&nbsp;</a></span>generate_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.generate_input </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dotprint</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the input files for all runs. </p>
<ul>
<li>dotprint: Print a dot after each generation. Used for debugging. </li>
</ul>

</div>
</div>
<a id="a0d127b0a86a0701f6efcb10c323d0c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d127b0a86a0701f6efcb10c323d0c81">&sect;&nbsp;</a></span>is_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.is_done </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if job is done running. </p>

</div>
</div>
<a id="a65837d657106ef32eb1c81e15b473fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65837d657106ef32eb1c81e15b473fba">&sect;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.prepare </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overwrite_batch</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overwrite_runs</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the batch and runs to be submitted This function writes necessary files and folders for the batch to run correctly. </p>
<p>Note that this does not generate the input files, as that might take a while. You can generate those with the generate_input function.</p>
<pre class="fragment">        - overwrite_batch: Flag to overwrite the batch folder if it
                           already exists. Prompts the user by default.
        - overwrite_runs:  Flag to overwrite the runs folders if they
                           already exist. False by default.</pre> 
</div>
</div>
<a id="a7bbf8e522880d309d706d4e49438409c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bbf8e522880d309d706d4e49438409c">&sect;&nbsp;</a></span>queue_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.queue_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue the batch Queues the batch. </p>
<p>Has some sanity checks to check if the run will be succesful. Also dumps some run information to file that can be used to profile the runs. </p>

</div>
</div>
<a id="a17084e299338a2b581dc1b2386644492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17084e299338a2b581dc1b2386644492">&sect;&nbsp;</a></span>to_netcdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.to_netcdf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>runmode</em> = <code>'orthogonal'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>'glue'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encode</em> = <code>{'zlib':&#160;True}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clean</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizBatch.html" title="A collection of QuaLiKiz Runs. ">QuaLiKizBatch</a> output to netcdf. </p>
<p>This function converts the output contained in the output and debug folders to netcdf. Optionally the datasets are glued together afterwards by setting the 'mode' keyword argument. Compresses the dataset by default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">runmode</td><td>Mode to pass to <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizRun.html#a170ac61e6668987518bc12eab304c850" title="Convert the output and debug to netCDF. ">QuaLiKizRun.to_netcdf</a> </td></tr>
    <tr><td class="paramname">mode</td><td>What to do after netcdfizing runs. 'glue' by default; glue datasets together </td></tr>
    <tr><td class="paramname">overwrite</td><td>Overwrite existing netcdf file? Ask user by default </td></tr>
    <tr><td class="paramname">encode</td><td>Default encoding passed to <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizRun.html#a170ac61e6668987518bc12eab304c850" title="Convert the output and debug to netCDF. ">QuaLiKizRun.to_netcdf</a> and to the new dataset. Compresses by default </td></tr>
    <tr><td class="paramname">clean</td><td>Remove netcdf files generated by <a class="el" href="classqualikiz__tools_1_1qualikiz__io_1_1qualikizrun_1_1QuaLiKizRun.html#a170ac61e6668987518bc12eab304c850" title="Convert the output and debug to netCDF. ">QuaLiKizRun.to_netcdf</a> when done. True by default </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a713052d59a73a80f1cb9d0546c42b9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713052d59a73a80f1cb9d0546c42b9bb">&sect;&nbsp;</a></span>batch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.batch</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a943bb7afef62c24d464ff088f589549e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a943bb7afef62c24d464ff088f589549e">&sect;&nbsp;</a></span>batchinfofile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.batchinfofile = 'batchinfo.json'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af0d9d7664c679933dfd5d40aa1260a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d9d7664c679933dfd5d40aa1260a62">&sect;&nbsp;</a></span>batchsdir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.batchsdir</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fe956b309e2676d75193f88f5e87eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe956b309e2676d75193f88f5e87eea">&sect;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf963d5f122dda705ef3c16548bfb51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf963d5f122dda705ef3c16548bfb51e">&sect;&nbsp;</a></span>runlist</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.runlist</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae07e0fd10765bc20262bbeb020930ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07e0fd10765bc20262bbeb020930ed1">&sect;&nbsp;</a></span>scriptname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string qualikiz_tools.qualikiz_io.qualikizrun.QuaLiKizBatch.scriptname = 'edison.sbatch'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>qualikiz_tools/qualikiz_io/<a class="el" href="qualikizrun_8py.html">qualikizrun.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 19 2016 11:05:22 for QuaLiKiz-Pythontools by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
